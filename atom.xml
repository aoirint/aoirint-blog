<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>えやみぐさ</title><link href="https://blog.aoirint.com/" rel="alternate"></link><link href="https://blog.aoirint.com/atom.xml" rel="self"></link><id>https://blog.aoirint.com/</id><updated>2020-12-08T22:40:00+09:00</updated><entry><title>Debianパッケージから内容物を抽出する</title><link href="https://blog.aoirint.com/entry/2020/extract_from_deb_file/" rel="alternate"></link><published>2020-12-08T22:40:00+09:00</published><updated>2020-12-08T22:40:00+09:00</updated><id>tag:blog.aoirint.com,2020-12-08 22:40:00.000000:/entry/2020/extract_from_deb_file/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_extract_from_deb_file_index_md_Debianパッケージから内容物を抽出する"&gt;Debianパッケージから内容物を抽出する&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://packages.debian.org/buster/bash"&gt;Debian -- buster の bash パッケージに関する詳細&lt;/a&gt;&lt;ul&gt;
&lt;li&gt;http://ftp.jp.debian.org/debian/pool/main/b/bash/bash_5.0-4_amd64.deb&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;wget http://ftp.jp.debian.org/debian/pool/main/b/bash/bash_5.0-4_amd64.deb
mkdir bash
tar xvf bash_5.0-4_amd64.deb -C bash/
&lt;span class="nb"&gt;cd&lt;/span&gt; bash
mkdir data
tar xvf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>Pythonを追加するDockerfile</title><link href="https://blog.aoirint.com/entry/2020/dockerfile_python/" rel="alternate"></link><published>2020-12-08T22:30:00+09:00</published><updated>2020-12-08T22:30:00+09:00</updated><id>tag:blog.aoirint.com,2020-12-08 22:30:00.000000:/entry/2020/dockerfile_python/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_dockerfile_python_index_md_Pythonを追加するDockerfile"&gt;Pythonを追加するDockerfile&lt;/h1&gt;
&lt;p&gt;pyenvは部品を使うだけで最終的には削除します（Pythonは/usr/localに導入）&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="k"&gt;FROM&lt;/span&gt; &lt;span class="s"&gt;ubuntu:bionic&lt;/span&gt;


&lt;span class="k"&gt;ARG&lt;/span&gt; &lt;span class="nv"&gt;DEBIAN_FRONTEND&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;noninteractive
&lt;span class="k"&gt;ARG&lt;/span&gt; &lt;span class="nv"&gt;PYTHON_VERSION&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;&lt;span class="m"&gt;3&lt;/span&gt;.9.0
&lt;span class="k"&gt;ARG&lt;/span&gt; &lt;span class="nv"&gt;PYTHON_ROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/usr/local
&lt;span class="k"&gt;ARG&lt;/span&gt; &lt;span class="nv"&gt;PYENV_ROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/tmp/.pyenv
&lt;span class="k"&gt;ARG&lt;/span&gt; &lt;span class="nv"&gt;PYBUILD_ROOT&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;/tmp/python-build

&lt;span class="k"&gt;RUN&lt;/span&gt; apt update &lt;span class="o"&gt;&amp;amp;&amp;amp;&lt;/span&gt; apt install -y &lt;span class="se"&gt;\&lt;/span&gt;
    build-&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>Dockerイメージから内容物を抽出する</title><link href="https://blog.aoirint.com/entry/2020/extract_from_docker_image/" rel="alternate"></link><published>2020-12-08T22:30:00+09:00</published><updated>2020-12-08T22:30:00+09:00</updated><id>tag:blog.aoirint.com,2020-12-08 22:30:00.000000:/entry/2020/extract_from_docker_image/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_extract_from_docker_image_index_md_Dockerイメージから内容物を抽出する"&gt;Dockerイメージから内容物を抽出する&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/reference/commandline/save/#save-an-image-to-a-targz-file-using-gzip"&gt;docker save | Docker Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;docker pull alpine:3
docker save -o out.tar alpine:3
mkdir out
tar xvf out.tar -C out/
&lt;span class="nb"&gt;cd&lt;/span&gt; out/6709f754bd0ccbbea9a7481e92772a494cca1543b3421978edff62bc5de16662
tar xvf layer.tar -C layer/

&lt;span class="nb"&gt;cd&lt;/span&gt; layer
&lt;span class="c1"&gt;# here is root directory&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>Mastodonをdocker-composeで立てる（Ubuntu 18.04）</title><link href="https://blog.aoirint.com/entry/2020/mastodon_docker/" rel="alternate"></link><published>2020-12-06T11:00:00+09:00</published><updated>2020-12-06T11:00:00+09:00</updated><id>tag:blog.aoirint.com,2020-12-06 11:00:00.000000:/entry/2020/mastodon_docker/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_mastodon_docker_index_md_Mastodonをdocker_composeで立てる_Ubuntu_18_04_"&gt;Mastodonをdocker-composeで立てる（Ubuntu 18.04）&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/tootsuite/mastodon"&gt;tootsuite/mastodon: Your self-hosted, globally interconnected microblogging community&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.joinmastodon.org/"&gt;Mastodon documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;内容はコミットID&lt;code&gt;44d5c6bc8ffd92cd201380dabe35748e50b6af68&lt;/code&gt;、Mastodon Dockerイメージバージョン&lt;code&gt;v3.2.1&lt;/code&gt;（Digest：&lt;code&gt;sha256:41cd5fb48d8b15ec806f08&lt;/code&gt;&lt;/p&gt;</summary></entry><entry><title>ソース公開するArduinoプログラムに秘密情報を埋め込む</title><link href="https://blog.aoirint.com/entry/2020/arduino_secret_info/" rel="alternate"></link><published>2020-11-09T08:10:00+09:00</published><updated>2020-11-09T08:10:00+09:00</updated><id>tag:blog.aoirint.com,2020-11-09 08:10:00.000000:/entry/2020/arduino_secret_info/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_arduino_secret_info_index_md_ソース公開するArduinoプログラムに秘密情報を埋め込む"&gt;ソース公開するArduinoプログラムに秘密情報を埋め込む&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://github.com/aoirint/RoomSystemSensorESP32"&gt;aoirint/RoomSystemSensorESP32: ESP32とFirebaseを使った部屋センシング・オンライン化 クライアント&lt;/a&gt;の開発中に
Arduinoプログラム（&lt;code&gt;.ino&lt;/code&gt;）にWiFiパスワード・APIキーなどの秘密情報を埋め込む必要が出てきた。&lt;/p&gt;
&lt;p&gt;ここでは、Arduino IDEの主要機能を持つCLIソフトウェア&lt;code&gt;arduino-cli&lt;/code&gt;を使う。&lt;/p&gt;
&lt;p&gt;&lt;a href="https://github.com/arduino/arduino-cli"&gt;arduino/arduino-cli: Arduino command line interface&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;arduin&lt;/p&gt;</summary></entry><entry><title>arduino-cliの使い方</title><link href="https://blog.aoirint.com/entry/2020/arduino_cli_usage/" rel="alternate"></link><published>2020-11-09T08:00:00+09:00</published><updated>2020-11-09T08:00:00+09:00</updated><id>tag:blog.aoirint.com,2020-11-09 08:00:00.000000:/entry/2020/arduino_cli_usage/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_arduino_cli_usage_index_md_arduino_cliの使い方"&gt;arduino-cliの使い方&lt;/h1&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;$ arduino-cli version
arduino-cli Version: 0.13.0 Commit: 693a045
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_arduino_cli_usage_index_md_インストール"&gt;インストール&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://arduino.github.io/arduino-cli/latest/installation/"&gt;Installation - Arduino CLI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;a href="https://arduino.github.io/arduino-cli/latest/"&gt;Arduino CLIの公式ドキュメント&lt;/a&gt;に従ってインストールする。後述する&lt;code&gt;screen&lt;/code&gt;コマンドも合わせてインストールする。
&lt;code&gt;arduino-cli&lt;/code&gt;はDockerイメージも配布されているのでお好みで。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;curl -fsSL https://raw.githubusercontent.com/arduino/arduin&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>Imagemagickで画像のDPIを変更する</title><link href="https://blog.aoirint.com/entry/2020/change_image_dpi_imagemagick/" rel="alternate"></link><published>2020-11-09T06:30:00+09:00</published><updated>2020-11-09T06:30:00+09:00</updated><id>tag:blog.aoirint.com,2020-11-09 06:30:00.000000:/entry/2020/change_image_dpi_imagemagick/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_change_image_dpi_imagemagick_index_md_Imagemagickで画像のDPIを変更する"&gt;Imagemagickで画像のDPIを変更する&lt;/h1&gt;
&lt;p&gt;画像のDPI（dot per inch）がばらばらの場合、
TeXで画像を取り込んだときのサイズがばらばらになるため統一する。&lt;/p&gt;
&lt;p&gt;以下はIN.pngをDPI 72にしてOUT.pngに出力するコマンド。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;convert -density &lt;span class="m"&gt;72&lt;/span&gt; -units PixelsPerInch IN.png OUT.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;もともとのDPIを調べるコマンド。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;identify -format &lt;span class="s1"&gt;'%x,%y\n'&lt;/span&gt; IN.png
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>OBS Studio on Ubuntu + NVIDIA GPUでWindow Captureを動作させる</title><link href="https://blog.aoirint.com/entry/2020/obs_ubuntu_nvidia_window_capture/" rel="alternate"></link><published>2020-11-09T06:10:00+09:00</published><updated>2020-11-09T06:10:00+09:00</updated><id>tag:blog.aoirint.com,2020-11-09 06:10:00.000000:/entry/2020/obs_ubuntu_nvidia_window_capture/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_obs_ubuntu_nvidia_window_capture_index_md_OBS_Studio_on_Ubuntu_NVIDIA_GPUでWindow_Captureを動作させる"&gt;OBS Studio on Ubuntu + NVIDIA GPUでWindow Captureを動作させる&lt;/h1&gt;
&lt;p&gt;Ubuntu + NVIDIA GPU環境では、OBS StudioでWindow Captureしようとすると
一部のアプリケーションで黒画面の表示になり動作しない。
おそらくOpenGLで描画しているものが対象。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://obsproject.com/forum/threads/solved-window-capture-black-screen.47082/"&gt;Bug Report - [SOLVED] Window Capture Black Screen | OBS Forums&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;私の環境では
&lt;code&gt;Window Capture (Xcomposite)&lt;/code&gt;の設定欄をスクロールして
&lt;code&gt;Use alpha-less&lt;/code&gt;&lt;/p&gt;</summary></entry><entry><title>PulseAudioで特定のアプリケーションからの音声出力だけを分離する</title><link href="https://blog.aoirint.com/entry/2020/pulseaudio_split_output/" rel="alternate"></link><published>2020-11-09T06:00:00+09:00</published><updated>2020-11-09T06:00:00+09:00</updated><id>tag:blog.aoirint.com,2020-11-09 06:00:00.000000:/entry/2020/pulseaudio_split_output/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_pulseaudio_split_output_index_md_PulseAudioで特定のアプリケーションからの音声出力だけを分離する"&gt;PulseAudioで特定のアプリケーションからの音声出力だけを分離する&lt;/h1&gt;
&lt;p&gt;以下のコマンドで仮想出力デバイス&lt;code&gt;DummyOutput0&lt;/code&gt;と、そのループバック&lt;code&gt;Loopback from Monitor of DummyOutput0&lt;/code&gt;が追加される。&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;pacmd load-module module-null-sink &lt;span class="nv"&gt;sink_name&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;DummyOutput0 &lt;span class="nv"&gt;sink_properties&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;device.description&lt;span class="o"&gt;=&lt;/span&gt;DummyOutput0
pacmd load-module module-loopback &lt;span class="nv"&gt;source&lt;/span&gt;&lt;span class="o"&gt;=&lt;/span&gt;Dum&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>Docker + Docker Compose on Vagrant Ubuntu Server</title><link href="https://blog.aoirint.com/entry/2020/docker_on_vagrant_ubuntu_server/" rel="alternate"></link><published>2020-10-22T16:30:00+09:00</published><updated>2020-10-22T16:30:00+09:00</updated><id>tag:blog.aoirint.com,2020-10-22 16:30:00.000000:/entry/2020/docker_on_vagrant_ubuntu_server/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_docker_on_vagrant_ubuntu_server_index_md_Docker_Docker_Compose_on_Vagrant_Ubuntu_Server"&gt;Docker + Docker Compose on Vagrant Ubuntu Server&lt;/h1&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://www.virtualbox.org/wiki/Downloads"&gt;Downloads – Oracle VM VirtualBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://www.vagrantup.com/downloads.html"&gt;Downloads | Vagrant by HashiCorp&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://app.vagrantup.com/ubuntu/boxes/bionic64"&gt;Vagrant box ubuntu/bionic64 - Vagrant Cloud&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/engine/install/ubuntu/"&gt;Install Docker Engine on Ubuntu | Docker Documentation&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href="https://docs.docker.com/compose/install/"&gt;Install Docker Compose | Docker Documentation&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;kvm (qemu)を使うこともできるらしいが、対応したboxを用意す&lt;/p&gt;</summary></entry></feed>