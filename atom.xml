<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>えやみぐさ</title><link href="https://blog.aoirint.com/" rel="alternate"></link><link href="https://blog.aoirint.com/atom.xml" rel="self"></link><id>https://blog.aoirint.com/</id><updated>2020-09-28T10:10:00+09:00</updated><entry><title>スニペット: docker-composeによるPython + Selenium環境</title><link href="https://blog.aoirint.com/snippet/2020/docker_compose_python_selenium/" rel="alternate"></link><published>2020-09-28T10:10:00+09:00</published><updated>2020-09-28T10:10:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-28 10:10:00.000000:/snippet/2020/docker_compose_python_selenium/</id><summary type="html">&lt;h1 class="md_header_block" id="h_snippet_2020_docker_compose_python_selenium_index_md_スニペット_docker_composeによるPython_Selenium環境_1"&gt;スニペット: docker-composeによるPython + Selenium環境&lt;/h1&gt;
&lt;p&gt;docker-compose.yml&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;version&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="s"&gt;'3.8'&lt;/span&gt;
&lt;span class="nt"&gt;services&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;app&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;build&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./app/&lt;/span&gt;
    &lt;span class="nt"&gt;entrypoint&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="p p-Indicator"&gt;[&lt;/span&gt; &lt;span class="s"&gt;"wait-for-it"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"selenium:4444"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"--"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"python3"&lt;/span&gt;&lt;span class="p p-Indicator"&gt;,&lt;/span&gt; &lt;span class="s"&gt;"/code/main.py"&lt;/span&gt; &lt;span class="p p-Indicator"&gt;]&lt;/span&gt;
    &lt;span class="nt"&gt;volumes&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;./work:/work&lt;/span&gt;
    &lt;span class="nt"&gt;environment&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="nt"&gt;SELENIUM_URL&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;http://selenium:4444/wd/hub&lt;/span&gt;
    &lt;span class="nt"&gt;depends_on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;se&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</summary></entry><entry><title>スニペット: docker-compose run --rm終了時に他のコンテナも削除するシェルスクリプト</title><link href="https://blog.aoirint.com/snippet/2020/docker_compose_run_rm_linked_containers/" rel="alternate"></link><published>2020-09-28T10:10:00+09:00</published><updated>2020-09-28T10:10:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-28 10:10:00.000000:/snippet/2020/docker_compose_run_rm_linked_containers/</id><summary type="html">&lt;h1 class="md_header_block" id="h_snippet_2020_docker_compose_run_rm_linked_containers_index_md_スニペット_docker_compose_run_rm終了時に他のコンテナも削除するシェルスクリプト_1"&gt;スニペット: docker-compose run --rm終了時に他のコンテナも削除するシェルスクリプト&lt;/h1&gt;
&lt;p&gt;&lt;code&gt;docker-compose run --rm app&lt;/code&gt;を実行するとサービスappが起動してコンテナが作られ、実行が終わり次第コンテナは削除される。
このとき削除されるコンテナはforegroundで実行されたもののみで、
&lt;code&gt;depends_on&lt;/code&gt;などの設定からリンクを通じて起動した他サービスのdetachedコンテナは削除されず残り続ける。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/docker/compose/issues/2791" title="docker-compose run &amp;lt;container&amp;gt; --rm does not rm links · Issue #2791 · docker/compose"&gt;docker-compose run &lt;container&gt; --rm does not rm links · Issue #&lt;/container&gt;&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</summary></entry><entry><title>スニペット: GitHub Actions, ビルド結果を別ブランチにpushする</title><link href="https://blog.aoirint.com/snippet/2020/github_actions_push_build_results/" rel="alternate"></link><published>2020-09-27T16:30:00+09:00</published><updated>2020-09-27T16:30:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-27 16:30:00.000000:/snippet/2020/github_actions_push_build_results/</id><summary type="html">&lt;h1 class="md_header_block" id="h_snippet_2020_github_actions_push_build_results_index_md_スニペット_GitHub_Actions_ビルド結果を別ブランチにpushする_1"&gt;スニペット: GitHub Actions, ビルド結果を別ブランチにpushする&lt;/h1&gt;
&lt;p&gt;GitHub Actions実行中に生成した&lt;code&gt;build&lt;/code&gt;ディレクトリの内容を別ブランチにpushする。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://github.com/s0/git-publish-subdir-action"&gt;github:s0/git-publish-subdir-action&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;table class="highlighttable"&gt;&lt;tr&gt;&lt;td class="linenos"&gt;&lt;div class="linenodiv"&gt;&lt;pre&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class="code"&gt;&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;code&gt;&lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Build&lt;/span&gt;
&lt;span class="nt"&gt;on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;push&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;branches&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
      &lt;span class="p p-Indicator"&gt;-&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;master&lt;/span&gt;

&lt;span class="nt"&gt;jobs&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
  &lt;span class="nt"&gt;deploy&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt;
    &lt;span class="nt"&gt;name&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;Build&lt;/span&gt;
    &lt;span class="nt"&gt;runs-on&lt;/span&gt;&lt;span class="p"&gt;:&lt;/span&gt; &lt;span class="l l-Scalar l-Scalar-Plain"&gt;ubuntu-&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;</summary></entry><entry><title>Ubuntu 18.04のKernelをアップデートした（HWE Kernel） + e1000eのDKMS設定</title><link href="https://blog.aoirint.com/entry/2020/ubuntu_kernel_update/" rel="alternate"></link><published>2020-09-21T00:00:00+09:00</published><updated>2020-09-21T00:00:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-21 00:00:00.000000:/entry/2020/ubuntu_kernel_update/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_ubuntu_kernel_update_index_md_Ubuntu_18_04のKernelをアップデートした_HWE_Kernel_e1000eのDKMS設定_1"&gt;Ubuntu 18.04のKernelをアップデートした（HWE Kernel） + e1000eのDKMS設定&lt;/h1&gt;
&lt;p&gt;環境の整理を兼ねて、UbuntuのKernelのアップデートをしたので、そのときのメモ。&lt;/p&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_ubuntu_kernel_update_index_md_Ubuntu_18_04のKernelをアップデートした_HWE_Kernel__2"&gt;Ubuntu 18.04のKernelをアップデートした（HWE Kernel）&lt;/h2&gt;
&lt;h3 class="md_header_block" id="h_entry_2020_ubuntu_kernel_update_index_md_カーネルバージョンについて_3"&gt;カーネルバージョンについて&lt;/h3&gt;
&lt;p&gt;&lt;code&gt;/lib/modules&lt;/code&gt;を見る限りインストール時のバージョンは&lt;code&gt;4.10.0-28&lt;/code&gt;で、
&lt;code&gt;/usr/src&lt;/code&gt;を見る限り&lt;code&gt;4.15.0-115&lt;/code&gt;をしばらく使ったあと、
&lt;code&gt;4.16.18&lt;/code&gt;に更新していた。&lt;/p&gt;
&lt;p&gt;バージョン&lt;code&gt;4.10.x&lt;/code&gt;はおそらくUb&lt;/p&gt;</summary></entry><entry><title>GPU PC (Desktop) のセットアップメモ</title><link href="https://blog.aoirint.com/entry/2020/gpu_pc_setup/" rel="alternate"></link><published>2020-09-18T20:00:00+09:00</published><updated>2020-09-18T20:00:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-18 20:00:00.000000:/entry/2020/gpu_pc_setup/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_gpu_pc_setup_index_md_GPU_PC_Desktop_のセットアップメモ_1"&gt;GPU PC (Desktop) のセットアップメモ&lt;/h1&gt;
&lt;p&gt;&lt;a href="https://releases.ubuntu.com/18.04.5/" title="Ubuntu 18.04.5 LTS (Bionic Beaver)"&gt;Ubuntu 18.04.5 LTS (Bionic Beaver)&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;Ubuntu 18.04、Windows 10のデュアルブート環境を構築する。
プロキシ下を想定しているので、不要な場合は適宜調整。&lt;/p&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_gpu_pc_setup_index_md_時刻ずれの解消_2"&gt;時刻ずれの解消&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://linux.just4fun.biz/?Linux%E7%92%B0%E5%A2%83%E8%A8%AD%E5%AE%9A/%E3%83%87%E3%83%A5%E3%82%A2%E3%83%AB%E3%83%96%E3%83%BC%E3%83%88%E3%81%AEWindows%E6%99%82%E5%88%BB%E3%82%92UTC%E3%81%AB%E3%81%99%E3%82%8B" title="Linux環境設定/デュアルブートのWindows時刻をUTCにする - Linuxと過ごす"&gt;Linux環境設定/デュアルブートのWindows時刻をUTCにする - Linuxと過ごす&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;デュアルブート環境では、BIOSの時刻を介してWindows側の時刻管理（ローカル時間）とUbuntu側の時刻管理（UTC時間）が衝突して、タイムゾーンの時差分、時計がずれてしま&lt;/p&gt;</summary></entry><entry><title>Atom + LaTeX in Docker</title><link href="https://blog.aoirint.com/entry/2020/atom_latex_docker/" rel="alternate"></link><published>2020-09-17T08:35:00+09:00</published><updated>2020-09-17T08:35:00+09:00</updated><id>tag:blog.aoirint.com,2020-09-17 08:35:00.000000:/entry/2020/atom_latex_docker/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_atom_latex_docker_index_md_Atom_LaTeX_in_Docker_1"&gt;Atom + LaTeX in Docker&lt;/h1&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_atom_latex_docker_index_md_概要_2"&gt;概要&lt;/h2&gt;
&lt;p&gt;LaTeXをホストにインストールせず、Docker内で動かしつつ、
Atomからこれを利用できるようにする。&lt;/p&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_atom_latex_docker_index_md_Requirements_3"&gt;Requirements&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Ubuntu 18.04&lt;/li&gt;
&lt;li&gt;Docker&lt;/li&gt;
&lt;li&gt;Atom&lt;/li&gt;
&lt;li&gt;Atom Packages&lt;ul&gt;
&lt;li&gt;&lt;a href="https://atom.io/packages/latex"&gt;latex&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_atom_latex_docker_index_md_Atom_Packages_4"&gt;Atom Packages&lt;/h2&gt;
&lt;p&gt;&lt;a href="https://atom.io/packages/latex"&gt;latex&lt;/a&gt;を入れれば最低限ビルドコマンドは叩けるようになる。&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href="https://atom.io/packages/latex"&gt;latex&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;シンタックスハイライト&lt;ul&gt;
&lt;li&gt;&lt;a href="https://atom.io/packages/language-latex"&gt;language-latex&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;アウトライン表示&lt;ul&gt;
&lt;li&gt;&lt;a href="https://atom.io/packages/document-outline"&gt;document-outline&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;PDFプレビュー&lt;ul&gt;
&lt;li&gt;&lt;a href=""&gt;pdf-view&lt;/a&gt;（メモリリーク? Atomを一度閉じれば解消&lt;/li&gt;&lt;/ul&gt;&lt;/li&gt;&lt;/ul&gt;</summary></entry><entry><title>静的サイトジェネレータMiyadaiku + GitHub Actions + GitHub Pagesでブログを作る</title><link href="https://blog.aoirint.com/entry/2020/miyadaiku_github_actions/" rel="alternate"></link><published>2020-09-09T09:48:39+09:00</published><updated>2020-09-09T09:48:39+09:00</updated><id>tag:blog.aoirint.com,2020-09-09 09:48:39.000000:/entry/2020/miyadaiku_github_actions/</id><summary type="html">&lt;h1 class="md_header_block" id="h_entry_2020_miyadaiku_github_actions_index_md_静的サイトジェネレータMiyadaiku_GitHub_Actions_GitHub_Pagesでブログを作る_1"&gt;静的サイトジェネレータMiyadaiku + GitHub Actions + GitHub Pagesでブログを作る&lt;/h1&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_miyadaiku_github_actions_index_md_概要_2"&gt;概要&lt;/h2&gt;
&lt;p&gt;新しく静的サイトジェネレータでブログ環境を整備した。
細かい使い方には触れないが、構成を書いておく。&lt;/p&gt;
&lt;h2 class="md_header_block" id="h_entry_2020_miyadaiku_github_actions_index_md_静的サイトジェネレータとCI_CD_3"&gt;静的サイトジェネレータとCI/CD&lt;/h2&gt;
&lt;h3 class="md_header_block" id="h_entry_2020_miyadaiku_github_actions_index_md_静的サイトジェネレータ_4"&gt;静的サイトジェネレータ&lt;/h3&gt;
&lt;p&gt;静的サイトジェネレータというのはSphinx（Python製）とかJekyll（Ruby製、GitHub Pages標準らしい）とかHugo（Go製）みたいなやつで、
MarkdownだとかreStructuredTextだとかのファイル群からHTML&lt;/p&gt;</summary></entry></feed>